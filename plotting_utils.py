import requests
import matplotlib.pyplot as plt
from io import BytesIO
from PIL import Image
from pathlib import Path
import os


def get_player_headshot(player_id):
    filename = Path.cwd() / "Headshots" / f"{player_id}.png"

    if os.path.exists(filename):
        return plt.imread(filename)

    url = f"https://assets.nflallday.com/resize/static/images/players-headshots/{player_id}.png?format=webp&quality=80&width=256"

    response = requests.get(url)
    response.raise_for_status()

    image = Image.open(BytesIO(response.content))
    image.save(filename)

    return plt.imread(BytesIO(response.content), format='PNG')


def get_football_svg():
    return (
        "M7030 7004 c-103 -9 -315 -36 -319 -40 -3 -3 467 -477 1044 -1054 "
        "577 -577 1052 -1046 1056 -1042 28 30 49 612 29 823 -30 333 -102 593 -213 "
        "772 -169 270 -511 453 -979 523 -99 15 -518 27 -618 18z "
        "M5925 6772 c-742 -254 -1399 -657 -1959 -1202 -481 -468 -858 -1036 "
        "-1118 -1685 -51 -128 -138 -382 -138 -405 0 -10 16 -24 38 -34 52 -24 2534 "
        "-2507 2552 -2553 7 -18 18 -33 25 -33 7 0 73 21 146 46 1015 347 1923 1008 "
        "2498 1817 295 417 539 920 686 1417 l37 125 -28 20 c-41 29 -2507 2503 -2518 "
        "2526 -5 10 -18 19 -30 19 -12 0 -97 -27 -191 -58z m-530 -690 c39 -37 116 "
        "-112 172 -166 l101 -98 164 97 c90 54 173 97 185 97 35 1 54 -21 51 -56 -3 "
        "-34 -16 -43 -198 -149 -55 -32 -102 -62 -105 -67 -3 -4 65 -77 150 -161 97 "
        "-95 155 -160 155 -173 0 -28 -29 -56 -58 -56 -19 0 -60 34 -161 133 -176 173 "
        "-193 188 -209 182 -15 -6 -263 -174 -302 -205 l-25 -20 168 -161 c140 -135 "
        "167 -166 167 -190 0 -35 -37 -63 -68 -52 -12 5 -67 53 -124 108 -57 54 -133 "
        "128 -170 164 l-67 65 -78 -60 c-113 -86 -258 -205 -261 -214 -2 -4 63 -72 144 "
        "-151 199 -193 194 -188 194 -218 0 -35 -17 -51 -53 -51 -24 0 -55 25 -176 144 "
        "-80 80 -159 156 -175 170 -29 25 -30 25 -55 6 -14 -11 -80 -71 -146 -134 "
        "l-120 -116 183 -178 c100 -98 182 -185 182 -193 0 -28 -30 -59 -58 -59 -21 0 "
        "-64 36 -202 170 -96 93 -180 169 -186 169 -10 1 -139 -133 -232 -240 l-32 -37 "
        "175 -169 c182 -177 195 -195 158 -235 -33 -36 -54 -23 -231 148 -94 91 -176 "
        "163 -182 159 -11 -7 -73 -84 -184 -229 l-69 -89 197 -189 c203 -196 217 -216 "
        "180 -252 -35 -35 -62 -21 -183 97 -63 61 -118 114 -121 117 -3 3 -35 33 -71 "
        "68 l-66 63 -62 -95 c-34 -53 -78 -126 -98 -163 -20 -38 -43 -76 -51 -85 -32 "
        "-38 -92 -12 -92 39 0 28 57 132 157 286 l63 98 -145 141 c-149 144 -161 163 "
        "-128 200 34 38 62 24 183 -95 64 -61 125 -120 137 -130 20 -18 22 -17 103 90 "
        "46 59 104 132 129 162 l45 54 -162 158 c-178 174 -189 194 -124 228 32 17 49 "
        "5 217 -160 l141 -138 131 142 132 142 -150 149 c-153 153 -168 176 -133 210 "
        "35 35 59 21 214 -130 l150 -145 138 127 c75 70 142 132 147 137 6 6 -45 62 "
        "-144 156 -128 123 -153 152 -153 176 0 33 27 57 59 53 12 -2 92 -70 177 -152 "
        "140 -132 158 -147 174 -135 9 8 55 46 102 84 47 39 116 93 153 120 36 28 67 "
        "54 67 58 0 5 -67 74 -150 153 -82 80 -152 154 -155 164 -13 41 41 85 78 63 8 "
        "-4 83 -74 168 -155 84 -82 157 -148 161 -148 4 0 82 51 173 114 l165 114 -160 "
        "152 c-90 85 -163 163 -166 177 -8 31 20 63 55 63 18 0 46 -20 96 -68z "
        "M2570 2907 c0 -2 -7 -50 -15 -108 -40 -288 -48 -643 -20 -881 47 "
        "-403 174 -711 370 -897 185 -176 443 -283 810 -338 183 -27 604 -24 825 5 91 "
        "12 177 26 191 30 25 7 -39 73 -1060 1100 -597 601 -1089 1092 -1093 1092 -5 0 "
        "-8 -1 -8 -3"
    )
